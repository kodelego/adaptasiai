# Collections Auto-Import System

This directory uses an auto-import system that automatically discovers and includes all collection files in the Payload configuration.

## How It Works

1. **Collection Files**: Each collection should be a `.ts` file with a named export matching the filename
   - Example: `Agents.ts` should export `export const Agents: CollectionConfig = { ... }`

2. **Auto-Generation**: The `index.ts` file is automatically generated by scanning all `.ts` files in this directory

3. **Build Integration**: The collections index is automatically regenerated during the build process

## Adding New Collections

To add a new collection:

1. Create a new `.ts` file in this directory (e.g., `MyNewCollection.ts`)
2. Export a named constant matching the filename:
   ```typescript
   import type { CollectionConfig } from 'payload'
   
   export const MyNewCollection: CollectionConfig = {
     slug: 'my-new-collection',
     fields: [
       // your fields here
     ],
   }
   ```
3. Run `npm run generate:collections` or `pnpm run generate:collections`
4. The collection will automatically be included in your Payload config!

## Available Scripts

- `npm run generate:collections` - Manually regenerate the collections index
- `npm run watch:collections` - Watch for changes and auto-regenerate (useful during development)

## Development Workflow

For active development, you can run the watcher:

```bash
npm run watch:collections
```

This will automatically regenerate the index file whenever you add, remove, or rename collection files.

## Important Notes

- **Do not edit `index.ts` manually** - it will be overwritten
- Collection files must have a named export matching the filename
- The system automatically sorts collections alphabetically
- The build process automatically runs the generator, so no manual intervention is needed for production builds

## File Structure

```
src/collections/
├── README.md              # This file
├── index.ts              # Auto-generated - DO NOT EDIT
├── Agents.ts             # Collection file
├── Companies.ts          # Collection file
├── Documents.ts          # Collection file
├── Media.ts              # Collection file
├── Tools.ts              # Collection file
└── Users.ts              # Collection file
```

## Troubleshooting

If a collection isn't being picked up:

1. Ensure the file has a `.ts` extension
2. Ensure the named export matches the filename exactly
3. Run `npm run generate:collections` manually
4. Check the console output for any error messages